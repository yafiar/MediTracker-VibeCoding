{"ast":null,"code":"import React from'react';import Navbar from'../components/Navbar';import{useNotifications}from'../context/NotificationContext';import'./NotificationHistory.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NotificationHistory=()=>{const{history,clearHistory,loading}=useNotifications();return/*#__PURE__*/_jsxs(\"div\",{className:\"notif-history-page\",children:[/*#__PURE__*/_jsx(Navbar,{onLogout:()=>{localStorage.removeItem('token');localStorage.removeItem('userId');localStorage.removeItem('userName');window.location.href='/login';}}),/*#__PURE__*/_jsxs(\"div\",{className:\"notif-history-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"notif-history-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Notification History\"}),history.length>0&&/*#__PURE__*/_jsx(\"button\",{className:\"clear-history-btn\",onClick:clearHistory,children:\"Clear History\"})]}),loading?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:\"\\u23F3\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Loading notifications...\"})]}):history.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:\"\\uD83D\\uDD15\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"No notifications yet\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Reminders you receive will appear here and persist for 7 days.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"notif-history-list\",children:history.map(n=>/*#__PURE__*/_jsxs(\"div\",{className:\"history-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"history-main\",children:[/*#__PURE__*/_jsx(\"h4\",{children:n.title}),/*#__PURE__*/_jsx(\"p\",{children:n.body}),n.medicine&&/*#__PURE__*/_jsxs(\"div\",{className:\"history-medicine\",children:[n.medicine.name,n.medicine.dosage?\" (\".concat(n.medicine.dosage,\")\"):'']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"history-meta\",children:[n.scheduledTime&&/*#__PURE__*/_jsxs(\"span\",{className:\"scheduled\",children:[\"Scheduled: \",n.scheduledTime]}),/*#__PURE__*/_jsx(\"span\",{className:\"timestamp\",children:new Date(n.createdAt).toLocaleString()})]})]},n._id||n.id))})]})]});};export default NotificationHistory;","map":{"version":3,"names":["React","Navbar","useNotifications","jsx","_jsx","jsxs","_jsxs","NotificationHistory","history","clearHistory","loading","className","children","onLogout","localStorage","removeItem","window","location","href","length","onClick","map","n","title","body","medicine","name","dosage","concat","scheduledTime","Date","createdAt","toLocaleString","_id","id"],"sources":["C:/a_ITS/Semester 3/Kelas/PemWeb/MediTracker-VibeCoding/frontend/src/pages/NotificationHistory.js"],"sourcesContent":["import React from 'react';\r\nimport Navbar from '../components/Navbar';\r\nimport { useNotifications } from '../context/NotificationContext';\r\nimport './NotificationHistory.css';\r\n\r\nconst NotificationHistory = () => {\r\n  const { history, clearHistory, loading } = useNotifications();\r\n  return (\r\n    <div className=\"notif-history-page\">\r\n      <Navbar onLogout={() => { \r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('userId');\r\n        localStorage.removeItem('userName');\r\n        window.location.href='/login'; \r\n      }} />\r\n      <div className=\"notif-history-container\">\r\n        <div className=\"notif-history-header\">\r\n          <h1>Notification History</h1>\r\n          {history.length > 0 && (\r\n            <button className=\"clear-history-btn\" onClick={clearHistory}>Clear History</button>\r\n          )}\r\n        </div>\r\n        {loading ? (\r\n          <div className=\"empty-state\">\r\n            <div className=\"empty-icon\">‚è≥</div>\r\n            <h3>Loading notifications...</h3>\r\n          </div>\r\n        ) : history.length === 0 ? (\r\n          <div className=\"empty-state\">\r\n            <div className=\"empty-icon\">üîï</div>\r\n            <h3>No notifications yet</h3>\r\n            <p>Reminders you receive will appear here and persist for 7 days.</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"notif-history-list\">\r\n            {history.map(n => (\r\n              <div key={n._id || n.id} className=\"history-item\">\r\n                <div className=\"history-main\">\r\n                  <h4>{n.title}</h4>\r\n                  <p>{n.body}</p>\r\n                  {n.medicine && (\r\n                    <div className=\"history-medicine\">{n.medicine.name}{n.medicine.dosage ? ` (${n.medicine.dosage})` : ''}</div>\r\n                  )}\r\n                </div>\r\n                <div className=\"history-meta\">\r\n                  {n.scheduledTime && <span className=\"scheduled\">Scheduled: {n.scheduledTime}</span>}\r\n                  <span className=\"timestamp\">{new Date(n.createdAt).toLocaleString()}</span>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotificationHistory;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,OAASC,gBAAgB,KAAQ,gCAAgC,CACjE,MAAO,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnC,KAAM,CAAAC,mBAAmB,CAAGA,CAAA,GAAM,CAChC,KAAM,CAAEC,OAAO,CAAEC,YAAY,CAAEC,OAAQ,CAAC,CAAGR,gBAAgB,CAAC,CAAC,CAC7D,mBACEI,KAAA,QAAKK,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjCR,IAAA,CAACH,MAAM,EAACY,QAAQ,CAAEA,CAAA,GAAM,CACtBC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC,CAChCD,YAAY,CAACC,UAAU,CAAC,QAAQ,CAAC,CACjCD,YAAY,CAACC,UAAU,CAAC,UAAU,CAAC,CACnCC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAC,QAAQ,CAC/B,CAAE,CAAE,CAAC,cACLZ,KAAA,QAAKK,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCN,KAAA,QAAKK,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCR,IAAA,OAAAQ,QAAA,CAAI,sBAAoB,CAAI,CAAC,CAC5BJ,OAAO,CAACW,MAAM,CAAG,CAAC,eACjBf,IAAA,WAAQO,SAAS,CAAC,mBAAmB,CAACS,OAAO,CAAEX,YAAa,CAAAG,QAAA,CAAC,eAAa,CAAQ,CACnF,EACE,CAAC,CACLF,OAAO,cACNJ,KAAA,QAAKK,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BR,IAAA,QAAKO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,QAAC,CAAK,CAAC,cACnCR,IAAA,OAAAQ,QAAA,CAAI,0BAAwB,CAAI,CAAC,EAC9B,CAAC,CACJJ,OAAO,CAACW,MAAM,GAAK,CAAC,cACtBb,KAAA,QAAKK,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BR,IAAA,QAAKO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,cAAE,CAAK,CAAC,cACpCR,IAAA,OAAAQ,QAAA,CAAI,sBAAoB,CAAI,CAAC,cAC7BR,IAAA,MAAAQ,QAAA,CAAG,gEAA8D,CAAG,CAAC,EAClE,CAAC,cAENR,IAAA,QAAKO,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAChCJ,OAAO,CAACa,GAAG,CAACC,CAAC,eACZhB,KAAA,QAAyBK,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC/CN,KAAA,QAAKK,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BR,IAAA,OAAAQ,QAAA,CAAKU,CAAC,CAACC,KAAK,CAAK,CAAC,cAClBnB,IAAA,MAAAQ,QAAA,CAAIU,CAAC,CAACE,IAAI,CAAI,CAAC,CACdF,CAAC,CAACG,QAAQ,eACTnB,KAAA,QAAKK,SAAS,CAAC,kBAAkB,CAAAC,QAAA,EAAEU,CAAC,CAACG,QAAQ,CAACC,IAAI,CAAEJ,CAAC,CAACG,QAAQ,CAACE,MAAM,MAAAC,MAAA,CAAQN,CAAC,CAACG,QAAQ,CAACE,MAAM,MAAM,EAAE,EAAM,CAC7G,EACE,CAAC,cACNrB,KAAA,QAAKK,SAAS,CAAC,cAAc,CAAAC,QAAA,EAC1BU,CAAC,CAACO,aAAa,eAAIvB,KAAA,SAAMK,SAAS,CAAC,WAAW,CAAAC,QAAA,EAAC,aAAW,CAACU,CAAC,CAACO,aAAa,EAAO,CAAC,cACnFzB,IAAA,SAAMO,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAE,GAAI,CAAAkB,IAAI,CAACR,CAAC,CAACS,SAAS,CAAC,CAACC,cAAc,CAAC,CAAC,CAAO,CAAC,EACxE,CAAC,GAXEV,CAAC,CAACW,GAAG,EAAIX,CAAC,CAACY,EAYhB,CACN,CAAC,CACC,CACN,EACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA3B,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}