{"ast":null,"code":"var _jsxFileName = \"C:\\\\a_ITS\\\\Semester 3\\\\Kelas\\\\PemWeb\\\\MediTracker-VibeCoding\\\\frontend\\\\src\\\\components\\\\SortSelect.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport './SortSelect.css';\n\n// Generic accessible custom dropdown select\n// Props: value, onChange, options [{value,label}], placeholder\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SortSelect({\n  value,\n  onChange,\n  options,\n  placeholder = 'Select',\n  ariaLabel = 'Sort select'\n}) {\n  _s();\n  const [open, setOpen] = useState(false);\n  const [focusIndex, setFocusIndex] = useState(-1);\n  const wrapperRef = useRef(null);\n  const listRef = useRef(null);\n  const current = options.find(o => o.value === value);\n  const close = useCallback(() => {\n    setOpen(false);\n    setFocusIndex(-1);\n  }, []);\n  useEffect(() => {\n    function handleClickOutside(e) {\n      if (wrapperRef.current && !wrapperRef.current.contains(e.target)) {\n        close();\n      }\n    }\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [close]);\n  useEffect(() => {\n    if (open && listRef.current) {\n      // Focus selected item or first\n      const idx = options.findIndex(o => o.value === value);\n      setFocusIndex(idx >= 0 ? idx : 0);\n    }\n  }, [open, value, options]);\n  const commit = opt => {\n    onChange && onChange(opt.value);\n    close();\n  };\n  const onKeyDown = e => {\n    if (!open) {\n      if (['ArrowDown', 'ArrowUp', 'Enter', 'Space'].includes(e.code) || ['ArrowDown', 'ArrowUp'].includes(e.key)) {\n        e.preventDefault();\n        setOpen(true);\n      }\n      return;\n    }\n    switch (e.key) {\n      case 'Escape':\n        e.preventDefault();\n        close();\n        break;\n      case 'ArrowDown':\n        e.preventDefault();\n        setFocusIndex(i => Math.min(options.length - 1, i + 1));\n        break;\n      case 'ArrowUp':\n        e.preventDefault();\n        setFocusIndex(i => Math.max(0, i - 1));\n        break;\n      case 'Enter':\n      case ' ':\n        // space\n        e.preventDefault();\n        if (focusIndex >= 0 && options[focusIndex]) commit(options[focusIndex]);\n        break;\n      default:\n        break;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `ss-wrapper ${open ? 'open' : ''}`,\n    ref: wrapperRef,\n    onKeyDown: onKeyDown,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      className: \"ss-trigger\",\n      \"aria-haspopup\": \"listbox\",\n      \"aria-expanded\": open,\n      \"aria-label\": ariaLabel,\n      onClick: () => setOpen(o => !o),\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ss-value\",\n        children: current ? current.label : placeholder\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ss-caret\",\n        \"aria-hidden\": \"true\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), open && /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"ss-menu\",\n      role: \"listbox\",\n      ref: listRef,\n      children: options.map((opt, idx) => {\n        const selected = opt.value === value;\n        const focused = idx === focusIndex;\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          role: \"option\",\n          \"aria-selected\": selected,\n          tabIndex: -1,\n          className: `ss-item ${selected ? 'selected' : ''} ${focused ? 'focused' : ''}`,\n          onMouseEnter: () => setFocusIndex(idx),\n          onMouseDown: e => {\n            e.preventDefault();\n            commit(opt);\n          },\n          children: opt.label\n        }, opt.value, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n_s(SortSelect, \"0zV3bDF85kM12zZCxLKW2P0p+bo=\");\n_c = SortSelect;\nvar _c;\n$RefreshReg$(_c, \"SortSelect\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","jsxDEV","_jsxDEV","SortSelect","value","onChange","options","placeholder","ariaLabel","_s","open","setOpen","focusIndex","setFocusIndex","wrapperRef","listRef","current","find","o","close","handleClickOutside","e","contains","target","document","addEventListener","removeEventListener","idx","findIndex","commit","opt","onKeyDown","includes","code","key","preventDefault","i","Math","min","length","max","className","ref","children","type","onClick","label","fileName","_jsxFileName","lineNumber","columnNumber","role","map","selected","focused","tabIndex","onMouseEnter","onMouseDown","_c","$RefreshReg$"],"sources":["C:/a_ITS/Semester 3/Kelas/PemWeb/MediTracker-VibeCoding/frontend/src/components/SortSelect.js"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\r\nimport './SortSelect.css';\r\n\r\n// Generic accessible custom dropdown select\r\n// Props: value, onChange, options [{value,label}], placeholder\r\nexport default function SortSelect({ value, onChange, options, placeholder = 'Select', ariaLabel = 'Sort select' }) {\r\n  const [open, setOpen] = useState(false);\r\n  const [focusIndex, setFocusIndex] = useState(-1);\r\n  const wrapperRef = useRef(null);\r\n  const listRef = useRef(null);\r\n\r\n  const current = options.find(o => o.value === value);\r\n\r\n  const close = useCallback(() => {\r\n    setOpen(false);\r\n    setFocusIndex(-1);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    function handleClickOutside(e) {\r\n      if (wrapperRef.current && !wrapperRef.current.contains(e.target)) {\r\n        close();\r\n      }\r\n    }\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, [close]);\r\n\r\n  useEffect(() => {\r\n    if (open && listRef.current) {\r\n      // Focus selected item or first\r\n      const idx = options.findIndex(o => o.value === value);\r\n      setFocusIndex(idx >= 0 ? idx : 0);\r\n    }\r\n  }, [open, value, options]);\r\n\r\n  const commit = (opt) => {\r\n    onChange && onChange(opt.value);\r\n    close();\r\n  };\r\n\r\n  const onKeyDown = (e) => {\r\n    if (!open) {\r\n      if (['ArrowDown', 'ArrowUp', 'Enter', 'Space'].includes(e.code) || ['ArrowDown','ArrowUp'].includes(e.key)) {\r\n        e.preventDefault();\r\n        setOpen(true);\r\n      }\r\n      return;\r\n    }\r\n    switch (e.key) {\r\n      case 'Escape':\r\n        e.preventDefault();\r\n        close();\r\n        break;\r\n      case 'ArrowDown':\r\n        e.preventDefault();\r\n        setFocusIndex(i => Math.min(options.length - 1, i + 1));\r\n        break;\r\n      case 'ArrowUp':\r\n        e.preventDefault();\r\n        setFocusIndex(i => Math.max(0, i - 1));\r\n        break;\r\n      case 'Enter':\r\n      case ' ': // space\r\n        e.preventDefault();\r\n        if (focusIndex >= 0 && options[focusIndex]) commit(options[focusIndex]);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`ss-wrapper ${open ? 'open' : ''}`} ref={wrapperRef} onKeyDown={onKeyDown}>\r\n      <button\r\n        type=\"button\"\r\n        className=\"ss-trigger\"\r\n        aria-haspopup=\"listbox\"\r\n        aria-expanded={open}\r\n        aria-label={ariaLabel}\r\n        onClick={() => setOpen(o => !o)}\r\n      >\r\n        <span className=\"ss-value\">{current ? current.label : placeholder}</span>\r\n        <span className=\"ss-caret\" aria-hidden=\"true\" />\r\n      </button>\r\n      {open && (\r\n        <ul className=\"ss-menu\" role=\"listbox\" ref={listRef}>\r\n          {options.map((opt, idx) => {\r\n            const selected = opt.value === value;\r\n            const focused = idx === focusIndex;\r\n            return (\r\n              <li\r\n                key={opt.value}\r\n                role=\"option\"\r\n                aria-selected={selected}\r\n                tabIndex={-1}\r\n                className={`ss-item ${selected ? 'selected' : ''} ${focused ? 'focused' : ''}`}\r\n                onMouseEnter={() => setFocusIndex(idx)}\r\n                onMouseDown={(e) => { e.preventDefault(); commit(opt); }}\r\n              >\r\n                {opt.label}\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}