{"ast":null,"code":"var _jsxFileName = \"C:\\\\a_ITS\\\\Semester 3\\\\Kelas\\\\PemWeb\\\\MediTracker-VibeCoding\\\\frontend\\\\src\\\\context\\\\NotificationContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useEffect, useState, useCallback } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NotificationContext = /*#__PURE__*/createContext({\n  active: [],\n  history: [],\n  addNotification: () => {},\n  dismissNotification: () => {},\n  clearHistory: () => {}\n});\nexport const NotificationProvider = ({\n  children\n}) => {\n  _s();\n  const [active, setActive] = useState([]);\n  const [history, setHistory] = useState(() => {\n    try {\n      const raw = localStorage.getItem('notification_history');\n      return raw ? JSON.parse(raw) : [];\n    } catch {\n      return [];\n    }\n  });\n  useEffect(() => {\n    localStorage.setItem('notification_history', JSON.stringify(history));\n  }, [history]);\n  const addNotification = useCallback(notif => {\n    const item = {\n      id: notif.id || Date.now() + Math.random(),\n      title: notif.title || 'Reminder',\n      body: notif.body,\n      time: notif.time || new Date().toISOString(),\n      medicine: notif.medicine || null,\n      scheduleId: notif.scheduleId || null,\n      scheduledTime: notif.scheduledTime || null,\n      createdAt: new Date().toISOString()\n    };\n    setActive(prev => [item, ...prev.slice(0, 9)]);\n    setHistory(prev => [item, ...prev].slice(0, 200));\n  }, []);\n  const dismissNotification = useCallback(id => {\n    setActive(prev => prev.filter(n => n.id !== id));\n  }, []);\n  const clearHistory = useCallback(() => {\n    setHistory([]);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(NotificationContext.Provider, {\n    value: {\n      active,\n      history,\n      addNotification,\n      dismissNotification,\n      clearHistory\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(NotificationProvider, \"YfQh1xPqe9asVDnD9u11FVIhVT4=\");\n_c = NotificationProvider;\nexport const useNotifications = () => {\n  _s2();\n  return useContext(NotificationContext);\n};\n_s2(useNotifications, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"NotificationProvider\");","map":{"version":3,"names":["React","createContext","useContext","useEffect","useState","useCallback","jsxDEV","_jsxDEV","NotificationContext","active","history","addNotification","dismissNotification","clearHistory","NotificationProvider","children","_s","setActive","setHistory","raw","localStorage","getItem","JSON","parse","setItem","stringify","notif","item","id","Date","now","Math","random","title","body","time","toISOString","medicine","scheduleId","scheduledTime","createdAt","prev","slice","filter","n","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useNotifications","_s2","$RefreshReg$"],"sources":["C:/a_ITS/Semester 3/Kelas/PemWeb/MediTracker-VibeCoding/frontend/src/context/NotificationContext.js"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState, useCallback } from 'react';\r\n\r\nconst NotificationContext = createContext({\r\n  active: [],\r\n  history: [],\r\n  addNotification: () => {},\r\n  dismissNotification: () => {},\r\n  clearHistory: () => {}\r\n});\r\n\r\nexport const NotificationProvider = ({ children }) => {\r\n  const [active, setActive] = useState([]);\r\n  const [history, setHistory] = useState(() => {\r\n    try {\r\n      const raw = localStorage.getItem('notification_history');\r\n      return raw ? JSON.parse(raw) : [];\r\n    } catch { return []; }\r\n  });\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('notification_history', JSON.stringify(history));\r\n  }, [history]);\r\n\r\n  const addNotification = useCallback((notif) => {\r\n    const item = {\r\n      id: notif.id || (Date.now() + Math.random()),\r\n      title: notif.title || 'Reminder',\r\n      body: notif.body,\r\n      time: notif.time || new Date().toISOString(),\r\n      medicine: notif.medicine || null,\r\n      scheduleId: notif.scheduleId || null,\r\n      scheduledTime: notif.scheduledTime || null,\r\n      createdAt: new Date().toISOString()\r\n    };\r\n    setActive(prev => [item, ...prev.slice(0,9)]);\r\n    setHistory(prev => [item, ...prev].slice(0,200));\r\n  }, []);\r\n\r\n  const dismissNotification = useCallback((id) => {\r\n    setActive(prev => prev.filter(n => n.id !== id));\r\n  }, []);\r\n\r\n  const clearHistory = useCallback(() => {\r\n    setHistory([]);\r\n  }, []);\r\n\r\n  return (\r\n    <NotificationContext.Provider value={{ active, history, addNotification, dismissNotification, clearHistory }}>\r\n      {children}\r\n    </NotificationContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useNotifications = () => useContext(NotificationContext);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}