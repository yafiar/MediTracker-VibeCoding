{"ast":null,"code":"import React,{createContext,useContext,useEffect,useState,useCallback}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const NotificationContext=/*#__PURE__*/createContext({active:[],history:[],addNotification:()=>{},dismissNotification:()=>{},clearHistory:()=>{}});export const NotificationProvider=_ref=>{let{children}=_ref;const[active,setActive]=useState([]);const[history,setHistory]=useState(()=>{try{const raw=localStorage.getItem('notification_history');return raw?JSON.parse(raw):[];}catch(_unused){return[];}});useEffect(()=>{localStorage.setItem('notification_history',JSON.stringify(history));},[history]);const addNotification=useCallback(notif=>{const item={id:notif.id||Date.now()+Math.random(),title:notif.title||'Reminder',body:notif.body,time:notif.time||new Date().toISOString(),medicine:notif.medicine||null,scheduleId:notif.scheduleId||null,scheduledTime:notif.scheduledTime||null,createdAt:new Date().toISOString()};setActive(prev=>[item,...prev.slice(0,9)]);setHistory(prev=>[item,...prev].slice(0,200));},[]);const dismissNotification=useCallback(id=>{setActive(prev=>prev.filter(n=>n.id!==id));},[]);const clearHistory=useCallback(()=>{setHistory([]);},[]);return/*#__PURE__*/_jsx(NotificationContext.Provider,{value:{active,history,addNotification,dismissNotification,clearHistory},children:children});};export const useNotifications=()=>useContext(NotificationContext);","map":{"version":3,"names":["React","createContext","useContext","useEffect","useState","useCallback","jsx","_jsx","NotificationContext","active","history","addNotification","dismissNotification","clearHistory","NotificationProvider","_ref","children","setActive","setHistory","raw","localStorage","getItem","JSON","parse","_unused","setItem","stringify","notif","item","id","Date","now","Math","random","title","body","time","toISOString","medicine","scheduleId","scheduledTime","createdAt","prev","slice","filter","n","Provider","value","useNotifications"],"sources":["C:/a_ITS/Semester 3/Kelas/PemWeb/MediTracker-VibeCoding/frontend/src/context/NotificationContext.js"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState, useCallback } from 'react';\r\n\r\nconst NotificationContext = createContext({\r\n  active: [],\r\n  history: [],\r\n  addNotification: () => {},\r\n  dismissNotification: () => {},\r\n  clearHistory: () => {}\r\n});\r\n\r\nexport const NotificationProvider = ({ children }) => {\r\n  const [active, setActive] = useState([]);\r\n  const [history, setHistory] = useState(() => {\r\n    try {\r\n      const raw = localStorage.getItem('notification_history');\r\n      return raw ? JSON.parse(raw) : [];\r\n    } catch { return []; }\r\n  });\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('notification_history', JSON.stringify(history));\r\n  }, [history]);\r\n\r\n  const addNotification = useCallback((notif) => {\r\n    const item = {\r\n      id: notif.id || (Date.now() + Math.random()),\r\n      title: notif.title || 'Reminder',\r\n      body: notif.body,\r\n      time: notif.time || new Date().toISOString(),\r\n      medicine: notif.medicine || null,\r\n      scheduleId: notif.scheduleId || null,\r\n      scheduledTime: notif.scheduledTime || null,\r\n      createdAt: new Date().toISOString()\r\n    };\r\n    setActive(prev => [item, ...prev.slice(0,9)]);\r\n    setHistory(prev => [item, ...prev].slice(0,200));\r\n  }, []);\r\n\r\n  const dismissNotification = useCallback((id) => {\r\n    setActive(prev => prev.filter(n => n.id !== id));\r\n  }, []);\r\n\r\n  const clearHistory = useCallback(() => {\r\n    setHistory([]);\r\n  }, []);\r\n\r\n  return (\r\n    <NotificationContext.Provider value={{ active, history, addNotification, dismissNotification, clearHistory }}>\r\n      {children}\r\n    </NotificationContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useNotifications = () => useContext(NotificationContext);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}